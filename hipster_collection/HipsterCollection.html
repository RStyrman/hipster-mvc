        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>HipsterCollection class / hipster_collection Library / Hipster MVC</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="hipster_collection" data-type="HipsterCollection">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Hipster MVC</a>
         &rsaquo; <a href="../hipster_collection.html">hipster_collection</a> &rsaquo; <a href="../hipster_collection/HipsterCollection.html">HipsterCollection</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>HipsterCollection</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<pre class="source">
class HipsterCollection implements Collection {
  CollectionEvents on;
  List&lt;HipsterModel&gt; models;
  Map&lt;String,Map&gt; data;

  HipsterCollection() {
    on = new CollectionEvents();
    models = &lt;HipsterModel&gt;[];
  }

  HipsterModel modelMaker(attrs);
  String get url;

  // Be List-like
  void forEach(fn) {
    models.forEach(fn);
  }

  iterator() =&gt; models.iterator();

  bool get isEmpty =&gt; models.isEmpty;
  map(fn) =&gt; models.map(fn);
  filter(fn) =&gt; models.filter(fn);
  contains(element) =&gt; models.contains(element);
  reduce(intialValue, fn) =&gt; models.reduce(initialValue, fn);
  every(fn) =&gt; models.every(fn);
  some(fn) =&gt; models.some(fn);

  int get length =&gt; models.length;

  // Be Backbone like
  operator [](id) {
    var ret;
    forEach((model) {
      if (model['id'] == id) ret = model;
    });
    return ret;
  }

  fetch() {
    HipsterSync.
      call('read', this).
      then((list) {
        list.forEach((attrs) {
          models.add(_buildModel(attrs));
        });
        on.load.dispatch(new CollectionEvent('load', this));
      });
  }

  create(attrs) {
    Future after_save = _buildModel(attrs).save();

    after_save.
      then((saved_model) {
        this.add(saved_model);
      });

    after_save.
      handleException(bool (e) {
        print("Exception handled: ${e}");
        return true;
      });
  }

  add(model) {
    models.add(model);
    on.
      insert.
      dispatch(new CollectionEvent('add', this, model:model));
  }

  _buildModel(attrs) {
    var new_model = modelMaker(attrs);
    // Give the factory a chance to define attributes on the model, if it does
    // not, explicitly set them.
    if (new_model.attributes.isEmpty) new_model.attributes = attrs;
    new_model.collection = this;
    return new_model;
  }
}
</pre>
</div>
<h3>Implements</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart_core/Collection.html">Collection&lt;E&gt;</a></span></p>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="HipsterCollection">
<button class="show-code">Code</button>
new <strong>HipsterCollection</strong>() <a class="anchor-link" href="#HipsterCollection"
              title="Permalink to HipsterCollection.HipsterCollection">#</a></h4>
<div class="doc">
<pre class="source">
HipsterCollection() {
  on = new CollectionEvents();
  models = &lt;HipsterModel&gt;[];
}
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="data">
<button class="show-code">Code</button>
Map&lt;String, Map&gt;         <strong>data</strong> <a class="anchor-link"
            href="#data"
            title="Permalink to HipsterCollection.data">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Map&lt;String,Map&gt; data;
</pre>
</div>
</div>
<div class="field"><h4 id="isEmpty">
<button class="show-code">Code</button>
final bool         <strong>isEmpty</strong> <a class="anchor-link"
            href="#isEmpty"
            title="Permalink to HipsterCollection.isEmpty">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns true if there is no element in this collection.</p>
<div class="docs-inherited-from">docs inherited from Collection&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
bool get isEmpty =&gt; models.isEmpty;
</pre>
</div>
</div>
<div class="field"><h4 id="length">
<button class="show-code">Code</button>
final int         <strong>length</strong> <a class="anchor-link"
            href="#length"
            title="Permalink to HipsterCollection.length">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns the number of elements in this collection.</p>
<div class="docs-inherited-from">docs inherited from Collection&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
int get length =&gt; models.length;
</pre>
</div>
</div>
<div class="field"><h4 id="models">
<button class="show-code">Code</button>
List&lt;<a href="../hipster_model/HipsterModel.html">HipsterModel</a>&gt;         <strong>models</strong> <a class="anchor-link"
            href="#models"
            title="Permalink to HipsterCollection.models">#</a>
        </h4>
        <div class="doc">
<pre class="source">
List&lt;HipsterModel&gt; models;
</pre>
</div>
</div>
<div class="field"><h4 id="on">
<button class="show-code">Code</button>
<a href="../hipster_collection/CollectionEvents.html">CollectionEvents</a>         <strong>on</strong> <a class="anchor-link"
            href="#on"
            title="Permalink to HipsterCollection.on">#</a>
        </h4>
        <div class="doc">
<pre class="source">
CollectionEvents on;
</pre>
</div>
</div>
<div class="field"><h4 id="url">
<button class="show-code">Code</button>
final String         <strong>url</strong> <a class="anchor-link"
            href="#url"
            title="Permalink to HipsterCollection.url">#</a>
        </h4>
        <div class="doc">
<pre class="source">
String get url;
</pre>
</div>
</div>
</div>
<div>
<h3>Operators</h3>
<div class="method"><h4 id="[]">
<button class="show-code">Code</button>
<strong>operator []</strong>(id) <a class="anchor-link" href="#[]"
              title="Permalink to HipsterCollection.operator []">#</a></h4>
<div class="doc">
<pre class="source">
operator [](id) {
  var ret;
  forEach((model) {
    if (model['id'] == id) ret = model;
  });
  return ret;
}
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="add">
<button class="show-code">Code</button>
<strong>add</strong>(model) <a class="anchor-link" href="#add"
              title="Permalink to HipsterCollection.add">#</a></h4>
<div class="doc">
<pre class="source">
add(model) {
  models.add(model);
  on.
    insert.
    dispatch(new CollectionEvent('add', this, model:model));
}
</pre>
</div>
</div>
<div class="method"><h4 id="contains">
<button class="show-code">Code</button>
<strong>contains</strong>(element) <a class="anchor-link" href="#contains"
              title="Permalink to HipsterCollection.contains">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Check whether the collection contains an element equal to 
<span class="param">element</span>.</p>
<div class="docs-inherited-from">docs inherited from Collection&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
contains(element) =&gt; models.contains(element);
</pre>
</div>
</div>
<div class="method"><h4 id="create">
<button class="show-code">Code</button>
<strong>create</strong>(attrs) <a class="anchor-link" href="#create"
              title="Permalink to HipsterCollection.create">#</a></h4>
<div class="doc">
<pre class="source">
create(attrs) {
  Future after_save = _buildModel(attrs).save();

  after_save.
    then((saved_model) {
      this.add(saved_model);
    });

  after_save.
    handleException(bool (e) {
      print("Exception handled: ${e}");
      return true;
    });
}
</pre>
</div>
</div>
<div class="method"><h4 id="every">
<button class="show-code">Code</button>
<strong>every</strong>(fn) <a class="anchor-link" href="#every"
              title="Permalink to HipsterCollection.every">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Returns true if every elements of this collection satisify the
predicate <code>f</code>. Returns false otherwise.</p>
<div class="docs-inherited-from">docs inherited from Collection&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
every(fn) =&gt; models.every(fn);
</pre>
</div>
</div>
<div class="method"><h4 id="fetch">
<button class="show-code">Code</button>
<strong>fetch</strong>() <a class="anchor-link" href="#fetch"
              title="Permalink to HipsterCollection.fetch">#</a></h4>
<div class="doc">
<pre class="source">
fetch() {
  HipsterSync.
    call('read', this).
    then((list) {
      list.forEach((attrs) {
        models.add(_buildModel(attrs));
      });
      on.load.dispatch(new CollectionEvent('load', this));
    });
}
</pre>
</div>
</div>
<div class="method"><h4 id="filter">
<button class="show-code">Code</button>
<strong>filter</strong>(fn) <a class="anchor-link" href="#filter"
              title="Permalink to HipsterCollection.filter">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Returns a collection with the elements of this collection
that satisfy the predicate <code>f</code>.</p>
<p>The returned collection should be of the same type as the collection
creating it.</p>
<p>An element satisfies the predicate <code>f</code> if <code>f(element)</code>
returns true.</p>
<div class="docs-inherited-from">docs inherited from Collection&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
filter(fn) =&gt; models.filter(fn);
</pre>
</div>
</div>
<div class="method"><h4 id="forEach">
<button class="show-code">Code</button>
void <strong>forEach</strong>(fn) <a class="anchor-link" href="#forEach"
              title="Permalink to HipsterCollection.forEach">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Applies the function <code>f</code> to each element of this collection.</p>
<div class="docs-inherited-from">docs inherited from Collection&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
void forEach(fn) {
  models.forEach(fn);
}
</pre>
</div>
</div>
<div class="method"><h4 id="iterator">
<button class="show-code">Code</button>
<strong>iterator</strong>() <a class="anchor-link" href="#iterator"
              title="Permalink to HipsterCollection.iterator">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Returns an <code>Iterator</code> that iterates over this <code>Iterable</code> object.</p>
<div class="docs-inherited-from">docs inherited from Iterable&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
iterator() =&gt; models.iterator();
</pre>
</div>
</div>
<div class="method"><h4 id="map">
<button class="show-code">Code</button>
<strong>map</strong>(fn) <a class="anchor-link" href="#map"
              title="Permalink to HipsterCollection.map">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Returns a new collection with the elements <code> f(e) </code>
for each element <code>e</code> of this collection.</p>
<p>Subclasses of <code>Collection</code> should implement the <a class="crossref" href="../hipster_collection/HipsterCollection.html#map">map</a> method
to return a collection of the same general type as themselves.
E.g., <code>List.map</code> should return a <code>List</code>.</p>
<div class="docs-inherited-from">docs inherited from Collection&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
map(fn) =&gt; models.map(fn);
</pre>
</div>
</div>
<div class="method"><h4 id="modelMaker">
<button class="show-code">Code</button>
<a href="../hipster_model/HipsterModel.html">HipsterModel</a> <strong>modelMaker</strong>(attrs) <a class="anchor-link" href="#modelMaker"
              title="Permalink to HipsterCollection.modelMaker">#</a></h4>
<div class="doc">
<pre class="source">
HipsterModel modelMaker(attrs);
</pre>
</div>
</div>
<div class="method"><h4 id="reduce">
<button class="show-code">Code</button>
<strong>reduce</strong>(intialValue, fn) <a class="anchor-link" href="#reduce"
              title="Permalink to HipsterCollection.reduce">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Reduce a collection to a single value by iteratively combining each element
of the collection with an existing value using the provided function.
Use <code>initialValue</code> as the initial value, and the function <code>combine</code> to
create a new value from the previous one and an element.</p>
<p>Example of calculating the sum of a collection:</p>
<p>  collection.reduce(0, (prev, element) => prev + element);</p>
<div class="docs-inherited-from">docs inherited from Collection&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
reduce(intialValue, fn) =&gt; models.reduce(initialValue, fn);
</pre>
</div>
</div>
<div class="method"><h4 id="some">
<button class="show-code">Code</button>
<strong>some</strong>(fn) <a class="anchor-link" href="#some"
              title="Permalink to HipsterCollection.some">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Returns true if one element of this collection satisfies the
predicate <code>f</code>. Returns false otherwise.</p>
<div class="docs-inherited-from">docs inherited from Collection&lt;<a href="../hipster_collection/HipsterCollection.html">E</a>&gt; </div></div>
<pre class="source">
some(fn) =&gt; models.some(fn);
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        
        <div class="footer">
          <div>This page was generated at 2012-11-02 23:56:22.116</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
